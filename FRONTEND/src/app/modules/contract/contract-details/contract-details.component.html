<app-breadcrumb
  [title]="'Car Page'"
  [items]="['Forms', 'Form Layout']"
  [active_item]="'Car Page'"
></app-breadcrumb>
<div class="container-fluid">
  <div class="feature-cars">
    <div class="row">
      <div class="col-md-6 cars-total"></div>

      <div class="col-md-6 text-sm-end">
        <div class="select2-drpdwn-car select-options d-inline-block">
          <select name="select" class="form-control btn-square">
            <option value="opt1">Open contracts only</option>
            <option value="opt2">Closest contract only</option>
            <option value="opt3">All contracts</option>
          </select>
        </div>
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col-sm-12 box-col-12">
      <div class="text-center">
        <div class="cardheader socialheader">
          <div class="info market-tabs col-md-12">
            <ul
              id="top-tab"
              role="tablist"
              class="nav nav-tabs border-tab tabs-scoial"
            >
              <li class="nav-item">
                <button
                  class="btn btn-pill btn-light btn-air-light active txt-dark me-1"
                  type="button"
                  disabled
                >
                  Voucher 0
                </button>
              </li>
              <li class="nav-item">
                <button
                  class="btn btn-pill btn-light btn-air-light active txt-dark me-1"
                  type="button"
                  disabled
                >
                  Change car
                </button>
              </li>
              <li class="nav-item">
                <button
                  class="btn btn-pill btn-light btn-air-light active txt-dark me-1"
                  type="button"
                >
                  Deposit back
                </button>
              </li>

              <li class="nav-item">
                <button
                  class="btn btn-pill btn-light btn-air-light active txt-dark me-1"
                  type="button"
                >
                  Rec. Voucher
                </button>
              </li>
              <li class="nav-item">
                <button
                  class="btn btn-pill btn-light btn-air-light active txt-dark me-1"
                  type="button"
                >
                  Pay. Voucher
                </button>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col-md-12 col-xl-12">
      <div class="row">
        <div class="col-sm-12">
          <div class="card">
            <div class="card-header">
              <div class="text-end">
                <button (click)="resetForm()" class="btn btn-success">
                  {{ buttonAdd }}
                </button>
              </div>
            </div>

            <form [formGroup]="ContractForm" class="theme-form mega-form">
              <div class="card-body">
                <div *ngIf="formData.length > 0; else noDataFound">
                  <div
                    *ngFor="
                      let c of formData
                        | paginate : { itemsPerPage: 1, currentPage: p }
                    "
                  >
                    <div class="row">
                      <div class="col-md-12">
                        <h5 class="text-center">
                          <span
                            [ngClass]="{
                              'text-danger': c.status === 'Contract is Open',
                              'text-success': c.status === 'Contract is Closed'
                            }"
                            >{{ mycb.checked ? status : c.status }}
                          </span>
                        </h5>
                      </div>
                      <div class="col-md-12">
                        <ul class="action">
                          <li class="edit">
                            <a (click)="openEditContractModal()"
                              ><i class="icon-pencil-alt"></i
                            ></a>

                            <confirmation-modal
                              #editContractModal
                              (newConfirmationEvent)="
                                editContractAlert($event, c._id)
                              "
                              modalStyle="modal-style-info"
                              modalTitle="Edit contract"
                              [modalBody]="
                                !noEditAlertModal
                                  ? 'you have payments available are you sure to update ?'
                                  : 'are you sure to edit contract?'
                              "
                              modalButtonColor="btn btn-info"
                            ></confirmation-modal>
                          </li>
                          <li class="delete">
                            <a (click)="open()"
                              ><i class="icon-trash mb-3"></i>

                              <confirmation-modal
                                #confirmationModal
                                (newConfirmationEvent)="
                                  getConfirmationValue($event, c._id)
                                "
                                modalStyle="modal-style-info"
                                modalTitle="Delete contract"
                                modalBody="are you sure to delete contract?"
                                modalButtonColor="btn btn-danger"
                              ></confirmation-modal>
                            </a>
                          </li>
                          <li class="pdf">
                            <a
                              routerlink="/cars/car-details"
                              (click)="goToInvoice(c._id)"
                              ><i class="icon-printer"></i
                            ></a>
                          </li>
                        </ul>
                      </div>
                    </div>
                    <div class="row g-4">
                      <div class="col-md-3">
                        <div class="mb-3">
                          <label class="col-form-label">No</label>
                          <input
                            class="form-control"
                            type="text"
                            disabled="true"
                            placeholder="No"
                            (change)="onChangeInputValue($event, 0)"
                            [value]="c.serial"
                          />
                        </div>
                      </div>

                      <div class="col-md-3">
                        <div class="mb-3">
                          <label class="col-form-label">Version</label>
                          <input
                            class="form-control"
                            type="text"
                            placeholder="Version"
                            (change)="onChangeInputValue($event, 1)"
                            [value]="c.version"
                          />
                        </div>
                      </div>
                      <div class="col-md-6">
                        <div class="mb-3">
                          <label class="col-form-label">Sponsor/Driver</label>
                          <input
                            class="form-control"
                            type="text"
                            placeholder="Sponsor"
                            (change)="onChangeInputValue($event, 2)"
                            [value]="c.sponsor"
                          />
                        </div>
                      </div>
                    </div>

                    <div class="row g-6">
                      <div class="col-md-3">
                        <div class="mb-3">
                          <label class="col-form-label">Car out</label>
                          <input
                            class="form-control"
                            type="datetime-local"
                            (change)="onChangeInputValue($event, 3)"
                            [value]="c.car_out | date : 'yyyy-MM-dd HH:mm'"
                          />
                        </div>
                      </div>

                      <div class="col-md-3">
                        <div class="mb-3">
                          <label class="col-form-label">Days</label>
                          <input
                            class="form-control"
                            type="number"
                            (change)="onChangeInputValue($event, 4)"
                            [value]="c.days"
                          />
                        </div>
                      </div>

                      <div class="col-md-4">
                        <div class="mb-3">
                          <label class="col-form-label">Car back</label>
                          <input
                            class="form-control"
                            type="datetime-local"
                            (change)="onChangeInputValue($event, 5)"
                            [value]="c.car_back | date : 'yyyy-MM-dd HH:mm'"
                            [ngClass]="{ disabled: isDisabled }"
                          />
                        </div>
                      </div>
                      <div class="col-md-2">
                        <div class="mb-3">
                          <label class="col-form-label"></label>
                          <div
                            class="form-check checkbox checkbox-solid-primary"
                          >
                            <input
                              class="form-check-input"
                              id="solid3"
                              type="checkbox"
                              #mycb
                              (click)="onCarBackEvent(mycb.checked)"
                            />
                            <label
                              class="form-check-label"
                              for="solid3"
                            ></label>
                          </div>
                        </div>
                      </div>
                    </div>

                    <div class="row g-4">
                      <div class="col-md-3">
                        <div class="mb-3">
                          <label class="col-form-label">Car</label>
                          <div class="d-flex">
                            <input
                              class="form-control"
                              type="text"
                              placeholder="Car "
                              [value]="
                                selectedCarData && selectedCarData
                                  ? selectedCarData
                                  : c.car?.car +
                                    '-' +
                                    c.car?.plate +
                                    '-' +
                                    c.car?.year
                              "
                              (change)="onChangeInputValue($event, 6)"
                            />
                            <button
                              class="btn btn-outline-primary btn-xs"
                              (click)="openCarModal()"
                            >
                              Choose
                            </button>
                          </div>
                        </div>
                      </div>

                      <div class="col-md-3">
                        <div class="mb-3">
                          <label class="col-form-label">Deposit</label>
                          <div class="d-flex">
                            <input
                              class="form-control"
                              type="text"
                              placeholder="Deposit"
                            />
                            <button
                              class="btn btn-outline-primary btn-xs"
                              (click)="modal.open(content)"
                            >
                              Choose
                            </button>
                          </div>
                        </div>
                      </div>

                      <div class="col-md-6">
                        <div class="mb-3">
                          <label class="col-form-label">Location</label>
                          <input
                            class="form-control"
                            type="text"
                            (change)="onChangeInputValue($event, 8)"
                            [value]="c.location"
                            placeholder="No"
                          />
                        </div>
                      </div>
                      <div class="col-md-6">
                        <div class="mb-3">
                          <label class="col-form-label">Hirer</label>
                          <div class="d-flex">
                            <input
                              class="form-control"
                              type="text"
                              placeholder="Hirer"
                              (change)="onChangeInputValue($event, 10)"
                              [value]="
                                selectedCustomerData && selectedCustomerData
                                  ? selectedCustomerData
                                  : c.owner?.fullName +
                                    '-' +
                                    c.owner?.mobile +
                                    '-' +
                                    c.car?.year
                              "
                            />
                            <button
                              class="btn btn-outline-primary btn-xs"
                              (click)="openCustomerModal()"
                            >
                              Choose
                            </button>
                          </div>
                        </div>
                      </div>

                      <div class="col-md-12">
                        <div class="mb-3">
                          <label class="col-form-label">Comments </label>
                          <textarea
                            class="comments form-control"
                            type="text"
                            (change)="onChangeInputValue($event, 11)"
                            [value]="c.comments"
                            placeholder="No"
                          ></textarea>
                        </div>
                      </div>
                    </div>
                    <div class="mb-3 m-t-15 custom-radio-ml p-2">
                      <div class="form-check radio radio-primary">
                        <div class="d-flex">
                          <div class="col-sm-2">
                            <input
                              class="form-check-input"
                              id="radio22"
                              type="radio"
                              name="radio1"
                              value="daily"
                              (change)="
                                onChangeRadioValue($event, c.days, c.daily)
                              "
                            />
                            <label class="form-check-label" for="radio22"
                              >Daily</label
                            >
                          </div>
                          <div class="col-md-3">
                            <input
                              type="number"
                              class="form-control"
                              [value]="
                              daily && daily
                                ? daily 
                                : c.car?.daily 
                                 
                            "
                              (change)="onChangeInputValue($event, 12)"
                              [disabled]="c.daily !== ''"
                            />
                          </div>
                        </div>
                      </div>
                      <div class="form-check radio radio-primary">
                        <div class="d-flex">
                          <div class="col-sm-2">
                            <input
                              class="form-check-input"
                              id="radio22"
                              type="radio"
                              name="radio1"
                              (change)="
                                onChangeRadioValue($event, c.days, c.weekly)
                              "
                              value="weekly"
                            />
                            <label class="form-check-label" for="radio22"
                              >Weekly</label
                            >
                          </div>
                          <div class="col-md-3">
                            <input
                              type="number"
                              class="form-control"
                              [value]="
                              weekly && weekly
                                ? weekly 
                                : c.car?.weekly 
                                 
                            "                              (change)="onChangeInputValue($event, 13)"
                              [disabled]="c.weekly !== ''"
                            />
                          </div>
                        </div>
                      </div>
                      <div class="form-check radio radio-primary">
                        <div class="d-flex">
                          <div class="col-sm-2">
                            <input
                              class="form-check-input"
                              id="radio22"
                              type="radio"
                              name="radio1"
                              value="monthly"
                              (change)="
                                onChangeRadioValue($event, c.days, c.monthly)
                              "
                            />
                            <label class="form-check-label" for="radio22"
                              >Monthly</label
                            >
                          </div>
                          <div class="col-md-3">
                            <input
                              type="number"
                              class="form-control"
                              [value]="
                              monthly && monthly
                                ? monthly 
                                : c.car?.monthly "
                              (change)="onChangeInputValue($event, 14)"
                              [disabled]="c.monthly !== ''"
                            />
                          </div>
                        </div>
                      </div>
                      <div class="form-check radio radio-primary">
                        <div class="d-flex">
                          <div class="col-sm-2">
                            <input
                              class="form-check-input"
                              id="radio22"
                              type="radio"
                              name="radio1"
                              value="annual"
                              (change)="
                                onChangeRadioValue($event, c.days, c.annual)
                              "
                            />
                            <label class="form-check-label" for="radio22"
                              >Annual</label
                            >
                          </div>
                          <div class="col-md-3">
                            <input
                              type="number"
                              class="form-control"
                              [value]="
                              annual && annual
                                ? annual 
                                : c.car?.annual "                              (change)="onChangeInputValue($event, 15)"
                              [disabled]="c.annual !== ''"
                            />
                          </div>
                        </div>
                      </div>
                    </div>

                    <hr class="mt-4 mb-4" />
                    <div class="row">
                      <div class="col-sm-12 col-xl-12">
                        <ul
                          ngbNav
                          #nav="ngbNav"
                          [(activeId)]="active3"
                          (navChange)="onNavChange1($event)"
                          class="nav-tabs"
                        >
                          <li [ngbNavItem]="1">
                            <a ngbNavLink>Car parts</a>
                            <ng-template ngbNavContent>
                              <div class="row">
                                <div class="col-md-12">
                                  <h5 class="mb-3 pt-4">Out</h5>

                                  <div class="animate-chk">
                                    <div class="row">
                                      <div class="col-md-6">
                                        <div class="mb-3 pt-2">
                                          <input
                                            class="form-control"
                                            type="text"
                                            placeholder="Fuel out"
                                            [value]="c.fuel_out"
                                            (change)="
                                              onChangeInputValue($event, 16)
                                            "
                                          />
                                        </div>
                                      </div>
                                    </div>
                                    <div class="row">
                                      <div class="col-md-6">
                                        <div class="mb-3 pt-2">
                                          <input
                                            class="form-control"
                                            type="text"
                                            placeholder="No KM out"
                                            [value]="c.no_km_out"
                                            (change)="
                                              onChangeInputValue($event, 17)
                                            "
                                          />
                                        </div>
                                      </div>
                                    </div>
                                    <div class="row">
                                      <div class="col">
                                        <label
                                          *ngFor="
                                            let item of checkboxItems.slice(
                                              0,
                                              5
                                            );
                                            let i = index
                                          "
                                          class="d-block"
                                        >
                                          <input
                                            type="checkbox"
                                            [(ngModel)]="item.checked"
                                            [ngModelOptions]="{
                                              standalone: true
                                            }"
                                            (change)="onCheckboxChange()"
                                            class="checkbox_animated"
                                          />
                                          {{ item.label }}
                                        </label>
                                      </div>
                                      <div class="col">
                                        <label
                                          *ngFor="
                                            let item of checkboxItems.slice(5);
                                            let i = index
                                          "
                                          class="d-block"
                                        >
                                          <input
                                            type="checkbox"
                                            [(ngModel)]="item.checked"
                                            [ngModelOptions]="{
                                              standalone: true
                                            }"
                                            (change)="onCheckboxChange()"
                                            class="checkbox_animated"
                                          />
                                          {{ item.label }}
                                        </label>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                              </div>
                              <hr class="mt-4 mb-4" />

                              <div class="row">
                                <div class="col-md-12">
                                  <h5 class="mb-3 pt-4">Back</h5>
                                  <div class="animate-chk">
                                    <div class="row">
                                      <div class="col-md-6">
                                        <div class="mb-3 pt-2">
                                          <input
                                            class="form-control"
                                            type="text"
                                            placeholder="Fuel back"
                                            [value]="c.fuel_back"
                                            (change)="
                                              onChangeInputValue($event, 18)
                                            "
                                          />
                                        </div>
                                      </div>
                                    </div>
                                    <div class="row">
                                      <div class="col-md-6">
                                        <div class="mb-3 pt-2">
                                          <input
                                            class="form-control"
                                            type="text"
                                            placeholder="No KM back"
                                            [value]="c.no_km_back"
                                            (change)="
                                              onChangeInputValue($event, 19)
                                            "
                                          />
                                        </div>
                                      </div>
                                    </div>
                                    <div class="row">
                                      <div class="col">
                                        <label for="chk-ani" class="d-block"
                                          ><input
                                            id="chk-ani"
                                            type="checkbox"
                                            checked=""
                                            class="checkbox_animated"
                                          />
                                          Spare wheel </label
                                        ><label for="chk-ani1" class="d-block"
                                          ><input
                                            id="chk-ani1"
                                            type="checkbox"
                                            class="checkbox_animated"
                                          />
                                          Wheel cover </label
                                        ><label for="chk-ani2" class="d-block"
                                          ><input
                                            id="chk-ani2"
                                            type="checkbox"
                                            checked=""
                                            class="checkbox_animated"
                                          />
                                          Tools & Jack </label
                                        ><label for="chk-ani3" class="d-block"
                                          ><input
                                            id="chk-ani3"
                                            type="checkbox"
                                            class="checkbox_animated"
                                          />
                                          Radio / Tape
                                        </label>
                                        <label for="chk-ani4" class="d-block"
                                          ><input
                                            id="chk-ani4"
                                            type="checkbox"
                                            class="checkbox_animated"
                                          />
                                          Fire Extinguisher
                                        </label>
                                      </div>
                                      <div class="col">
                                        <label for="chk-ani" class="d-block"
                                          ><input
                                            id="chk-ani"
                                            type="checkbox"
                                            checked=""
                                            class="checkbox_animated"
                                          />
                                          First AID box</label
                                        ><label for="chk-ani1" class="d-block"
                                          ><input
                                            id="chk-ani1"
                                            type="checkbox"
                                            class="checkbox_animated"
                                          />
                                          Lights </label
                                        ><label for="chk-ani2" class="d-block"
                                          ><input
                                            id="chk-ani2"
                                            type="checkbox"
                                            checked=""
                                            class="checkbox_animated"
                                          />
                                          GPS </label
                                        ><label for="chk-ani3" class="d-block"
                                          ><input
                                            id="chk-ani3"
                                            type="checkbox"
                                            class="checkbox_animated"
                                          />
                                          Heater / AC
                                        </label>
                                        <label for="chk-ani3" class="d-block"
                                          ><input
                                            id="chk-ani3"
                                            type="checkbox"
                                            class="checkbox_animated"
                                          />
                                          Fuel panel
                                        </label>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                              </div>
                            </ng-template>
                          </li>
                          <li [ngbNavItem]="2">
                            <a ngbNavLink>Payments</a>
                            <ng-template ngbNavContent>
                              <div class="container">
                                <div class="card">
                                  <div class="card-body">
                                    <div class="row">
                                      <div class="col-md-12">
                                        <div class="row g-4">
                                          <div class="col-md-6">
                                            <div class="mb-3">
                                              <div class="d-flex">
                                                <input
                                                  type="text"
                                                  ng-model="daily_val1"
                                                  class="form-control"
                                                  [value]="amount ? amount : ''"
                                                  (change)="
                                                    onChangeInputValue(
                                                      $event,
                                                      30
                                                    )
                                                  "
                                                  disabled
                                                /><strong
                                                  style="color: black"
                                                  class="ps-1 pt-3 pe-1"
                                                  >X</strong
                                                ><input
                                                  class="form-control"
                                                  type="text"
                                                  ng-model="daily_val2"
                                                  [value]="price ? price : ''"
                                                />
                                                <strong
                                                  style="color: black"
                                                  class="ps-1 pt-3 pe-1"
                                                  >=</strong
                                                >
                                                <input
                                                  type="text"
                                                  ng-model="val1"
                                                  class="form-control"
                                                  [value]="result ? result : ''"
                                                  (change)="
                                                    onChangeInputValue(
                                                      $event,
                                                      23
                                                    )
                                                  "
                                                />
                                              </div>
                                            </div>
                                          </div>
                                        </div>

                                        <div
                                          class="row row-cols-sm-3 theme-form mt-3 form-bottom align-items-center g-2 ng-untouched ng-pristine ng-valid"
                                        >
                                          <div class="col-md-3 d-flex">
                                            <div class="mb-3"></div>
                                            <input
                                              type="number"
                                              placeholder="Overtime"
                                              class="form-control"
                                            />
                                          </div>

                                          <div class="d-flex">
                                            <button class="btn btn-primary">
                                              Set
                                            </button>
                                          </div>
                                        </div>

                                        <div
                                          class="row row-cols-sm-3 theme-form mt-3 form-bottom align-items-center g-2 ng-untouched ng-pristine ng-valid"
                                        >
                                          <div class="col-md-3 d-flex">
                                            <input
                                              type="number"
                                              placeholder="Driver / Petrol"
                                              class="form-control"
                                            />
                                          </div>

                                          <div class="d-flex">
                                            <button class="btn btn-primary">
                                              Calc
                                            </button>
                                          </div>
                                        </div>
                                        <div
                                          class="row row-cols-sm-3 theme-form mt-3 form-bottom align-items-center g-2 ng-untouched ng-pristine ng-valid"
                                        >
                                          <div class="col-md-3 d-flex">
                                            <input
                                              type="number"
                                              placeholder="Fines"
                                              class="form-control"
                                            />
                                          </div>

                                          <div class="d-flex">
                                            <button class="btn btn-primary">
                                              Show
                                            </button>
                                          </div>
                                        </div>
                                        <div
                                          class="row row-cols-sm-3 theme-form mt-3 form-bottom align-items-center g-2 ng-untouched ng-pristine ng-valid"
                                        >
                                          <div class="col-md-3 d-flex">
                                            <input
                                              type="number"
                                              placeholder="Overdrive / Other"
                                              class="form-control"
                                            />
                                          </div>

                                          <div class="d-flex">
                                            <button class="btn btn-primary">
                                              Set
                                            </button>
                                          </div>
                                        </div>
                                      </div>
                                    </div>

                                    <div class="row">
                                      <div class="table-responsive">
                                        <table class="table d-none d-md-table">
                                          <thead>
                                            <tr>
                                              <th scope="col">Advance</th>
                                              <th scope="col">Discount</th>
                                              <th scope="col">Sum</th>
                                              <th scope="col">Payable</th>
                                              <th scope="col">Calculate</th>
                                            </tr>
                                          </thead>
                                          <tbody>
                                            <tr>
                                              <td>
                                                <div class="form-group">
                                                  <input
                                                    #advance
                                                    type="text"
                                                    class="form-control"
                                                    [(ngModal)]="
                                                      advance
                                                        ? advance
                                                        : c.advance
                                                    "
                                                    (chnage)="
                                                      onChangeInputValue(
                                                        $event,
                                                        26
                                                      )
                                                    "
                                                  />
                                                </div>
                                              </td>

                                              <td>
                                                <div class="form-group">
                                                  <input
                                                    #discount
                                                    type="text"
                                                    class="form-control"
                                                    [(ngModal)]="
                                                      discount
                                                        ? discount
                                                        : c.discount
                                                    "
                                                    (change)="
                                                      onChangeInputValue(
                                                        $event,
                                                        25
                                                      )
                                                    "
                                                  />
                                                </div>
                                              </td>
                                              <td>
                                                <div class="form-group">
                                                  <input
                                                    #sum
                                                    type="text"
                                                    class="form-control"
                                                    [value]="
                                                      result ? result : ''
                                                    "
                                                    (change)="
                                                      onChangeInputValue(
                                                        $event,
                                                        24
                                                      )
                                                    "
                                                  />
                                                </div>
                                              </td>
                                              <td>
                                                <div class="form-group">
                                                  <input
                                                    #payable
                                                    type="text"
                                                    class="form-control"
                                                    [ngModal]="
                                                      payable
                                                        ? payable
                                                        : c.payable
                                                    "
                                                    (change)="
                                                      onChangeInputValue(
                                                        $event,
                                                        27
                                                      )
                                                    "
                                                  />
                                                </div>
                                              </td>
                                              <td>
                                                <button
                                                  type="button"
                                                  class="btn btn-light"
                                                  (click)="calculate()"
                                                >
                                                  Calculate
                                                </button>
                                              </td>
                                            </tr>
                                          </tbody>
                                        </table>

                                        <div class="row">
                                          <div class="col">
                                            <div class="d-md-none">
                                              <form class="mega-form">
                                                <div class="form-group">
                                                  <div class="col-md-6">
                                                    <div class="mb-3">
                                                      <label
                                                        class="col-form-label"
                                                        >Advance</label
                                                      >

                                                      <input
                                                        #advance
                                                        type="text"
                                                        class="form-control"
                                                        [(ngModal)]="
                                                          advance
                                                            ? advance
                                                            : c.advance
                                                        "
                                                        (chnage)="
                                                          onChangeInputValue(
                                                            $event,
                                                            26
                                                          )
                                                        "
                                                      />
                                                    </div>
                                                  </div>
                                                </div>

                                                <div class="form-group">
                                                  <div class="col-md-6">
                                                    <div class="mb-3">
                                                      <label
                                                        class="col-form-label"
                                                        >Discount</label
                                                      >

                                                      <input
                                                        #discount
                                                        type="text"
                                                        class="form-control"
                                                        [(ngModal)]="
                                                          discount
                                                            ? discount
                                                            : c.discount
                                                        "
                                                        (change)="
                                                          onChangeInputValue(
                                                            $event,
                                                            25
                                                          )
                                                        "
                                                      />
                                                    </div>
                                                  </div>
                                                </div>

                                                <div class="form-group">
                                                  <div class="col-md-6">
                                                    <div class="mb-3">
                                                      <label
                                                        class="col-form-label"
                                                        >Result</label
                                                      >

                                                      <input
                                                        #sum
                                                        type="text"
                                                        class="form-control"
                                                        [value]="
                                                          result ? result : ''
                                                        "
                                                        (change)="
                                                          onChangeInputValue(
                                                            $event,
                                                            24
                                                          )
                                                        "
                                                      />
                                                    </div>
                                                  </div>
                                                </div>

                                                <div class="form-group">
                                                  <div class="col-md-6">
                                                    <div class="mb-3">
                                                      <label
                                                        class="col-form-label"
                                                        >Payable</label
                                                      >

                                                      <input
                                                        #payable
                                                        type="text"
                                                        class="form-control"
                                                        [ngModal]="
                                                          payable
                                                            ? payable
                                                            : c.payable
                                                        "
                                                        (change)="
                                                          onChangeInputValue(
                                                            $event,
                                                            27
                                                          )
                                                        "
                                                      />
                                                    </div>
                                                  </div>
                                                </div>
                                              </form>
                                              <button
                                                type="button"
                                                class="btn btn-light"
                                                (click)="calculate()"
                                              >
                                                Calculate
                                              </button>
                                            </div>
                                          </div>
                                        </div>
                                      </div>
                                      <div class="container">
                                        <div class="row">
                                          <div class="col-md-12">
                                            <div class="mb-3">
                                              <div
                                                class="card-no-border p-8 mt-4"
                                              >
                                                <ng-container
                                                  *ngIf="
                                                    +c.payable === 0 &&
                                                    c.payable != null
                                                  "
                                                >
                                                  <div
                                                    role="alert"
                                                    class="alert alert-success show fade"
                                                  >
                                                    Contract is Paid
                                                  </div>
                                                </ng-container>

                                                <ng-container>
                                                  <div class="card-header">
                                                    <h5>Current payments :</h5>
                                                  </div>
                                                  <div class="car_body">
                                                    <div
                                                      class="mb-3 p-4 m-t-15"
                                                    >
                                                      <p>
                                                        discount:{{
                                                          c.discount
                                                        }}
                                                      </p>
                                                      <p>
                                                        advance:{{ c.advance }}
                                                      </p>
                                                      <p>
                                                        payable:{{ c.payable }}
                                                      </p>
                                                      <p>sum:{{ c.sum }}</p>
                                                    </div>
                                                  </div>
                                                </ng-container>
                                              </div>
                                            </div>
                                          </div>
                                        </div>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                              </div>
                            </ng-template>
                          </li>
                          <li [ngbNavItem]="3">
                            <a ngbNavLink>Car body</a>
                            <ng-template ngbNavContent>
                              <img
                                class="img-fluid w-100"
                                src="assets/images/cars/car_body.png"
                              />
                            </ng-template>
                          </li>
                        </ul>
                        <div [ngbNavOutlet]="nav" class="mt-2"></div>
                      </div>
                    </div>
                  </div>
                  <div class="card-footer text-end">
                    <nav>
                      <div class="row">
                        <div class="m-t-15 btn-showcase">
                          <ul>
                            <li>
                              <pagination-controls
                                class="custom-pagination"
                                (pageChange)="p = $event"
                                (pageChange)="pageChanged($event)"
                                (pageBoundsCorrection)="pageChanged($event)"
                                maxSize="5"
                                directionLinks="true"
                                autoHide="true"
                                responsive="true"
                                previousLabel="Previous"
                                nextLabel="Next"
                                screenReaderPaginationLabel="Pagination"
                                screenReaderPageLabel="page"
                                screenReaderCurrentLabel="You're on page"
                              >
                              </pagination-controls>
                            </li>
                          </ul>
                        </div>
                      </div>
                    </nav>
                  </div>
                </div>
              </div>
              <ng-template #noDataFound>
                <app-init-contract-form></app-init-contract-form>
              </ng-template>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<div class="card-body">
  <ng-template #content let-modal>
    <div class="modal-header">
      <h4 class="modal-title" id="modal-basic-title">Our Available Cars</h4>
      <button
        type="button"
        class="btn-close"
        aria-label="Close"
        (click)="modal.dismiss('Cross click')"
      ></button>
    </div>

    <div class="modal-footer">
      <button
        (click)="modal.close('Save click')"
        type="button"
        placement="top"
        ngbtooltip="btn btn-light"
        class="btn btn-light active txt-dark"
      >
        Close
      </button>
    </div>
  </ng-template>
</div>
